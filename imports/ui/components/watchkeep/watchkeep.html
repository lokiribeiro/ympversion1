<!-- BEGIN SIDEBAR -->
<div class="sidebar" style="z-index: 999999999 !important;">
    <div class="logopanel">
        <h1>
            <a href="/"></a>
        </h1>
    </div>
    <div class="sidebar-inner">
        <ul class="nav nav-sidebar">
            <li class="nav-parent" ng-click="watchkeep.gotoDashboard()" ng-if="watchkeep.currentUser.jobs">
                <a href="">
                    <i class="icon-home"></i>
                    <span>Jobs</span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoInventory()" ng-if="watchkeep.currentUser.inventory">
                <a href="">
                    <i class="icon-basket"></i>
                    <span>Inventory</span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoLogbook()" ng-if="watchkeep.currentUser.logbook">
                <a href="">
                    <i class="icon-note"></i>
                    <span>Logbook </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoEmployees()" ng-if="watchkeep.currentUser.employees">
                <a href="">
                    <i class="icon-user"></i>
                    <span>Employees </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoReports()" ng-if="watchkeep.currentUser.reports">
                <a href="">
                    <i class="icon-docs"></i>
                    <span>Reports </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent active" ng-click="watchkeep.gotoWatchkeep()" ng-if="watchkeep.currentUser.watchkeeping || watchkeep.currentUser.watchkeeper">
                <a href="">
                    <i class="icon-cup"></i>
                    <span>Watchkeep </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoSupplier()" ng-if="watchkeep.currentUser.supplier">
                <a href="">
                    <i class="icon-layers"></i>
                    <span>Supplier </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
            <li class="nav-parent" ng-click="watchkeep.gotoAdminPanel()" ng-if="watchkeep.currentUser.superadmin">
                <a href="">
                    <i class="icon-puzzle"></i>
                    <span>Super Admin </span>
                    <span class="fa arrow"></span>
                </a>
            </li>
        </ul>
    </div>
</div>
<!-- END SIDEBAR -->

<div class="main-content">
    <!-- BEGIN TOPBAR -->
    <div class="topbar" style="z-index: 999999999 !important;">
        <div class="header-left" style="margin-top: 15px !important; margin-left: 10px !important;">
            <span class="username" style="color: #fff !important;">{{watchkeep.currentUser.boatName}}</span>
        </div>
        <div class="header-right">
            <ul class="header-menu nav navbar-nav">
                <!-- BEGIN USER DROPDOWN 
          <li class="dropdown" id="language-header">
            <a href="#" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
            <i class="icon-globe"></i>
            <span>Language</span>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="#" data-lang="en"><img src="../assets/global/images/flags/usa.png" alt="flag-english"> <span>English</span></a>
              </li>
              <li>
                <a href="#" data-lang="es"><img src="../assets/global/images/flags/spanish.png" alt="flag-english"> <span>Español</span></a>
              </li>
              <li>
                <a href="#" data-lang="fr"><img src="../assets/global/images/flags/french.png" alt="flag-english"> <span>Français</span></a>
              </li>
            </ul>
          </li> -->
                <!-- END USER DROPDOWN -->
                <!-- BEGIN NOTIFICATION DROPDOWN 
          <li class="dropdown" id="notifications-header">
            <a href="#" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
            <i class="icon-bell"></i>
            <span class="badge badge-danger badge-header">6</span>
            </a>
            <ul class="dropdown-menu">
              <li class="dropdown-header clearfix">
                <p class="pull-left">12 Pending Notifications</p>
              </li>
              <li>
                <ul class="dropdown-menu-list withScroll" data-height="220">
                  <li>
                    <a href="#">
                    <i class="fa fa-star p-r-10 f-18 c-orange"></i>
                    Steve have rated your photo
                    <span class="dropdown-time">Just now</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-heart p-r-10 f-18 c-red"></i>
                    John added you to his favs
                    <span class="dropdown-time">15 mins</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-file-text p-r-10 f-18"></i>
                    New document available
                    <span class="dropdown-time">22 mins</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-picture-o p-r-10 f-18 c-blue"></i>
                    New picture added
                    <span class="dropdown-time">40 mins</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-bell p-r-10 f-18 c-orange"></i>
                    Meeting in 1 hour
                    <span class="dropdown-time">1 hour</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-bell p-r-10 f-18"></i>
                    Server 5 overloaded
                    <span class="dropdown-time">2 hours</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-comment p-r-10 f-18 c-gray"></i>
                    Bill comment your post
                    <span class="dropdown-time">3 hours</span>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                    <i class="fa fa-picture-o p-r-10 f-18 c-blue"></i>
                    New picture added
                    <span class="dropdown-time">2 days</span>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="dropdown-footer clearfix">
                <a href="#" class="pull-left">See all notifications</a>
                <a href="#" class="pull-right">
                <i class="icon-settings"></i>
                </a>
              </li>
            </ul>
          </li> -->
                <!-- END NOTIFICATION DROPDOWN -->
                <!-- BEGIN USER DROPDOWN -->
                <li class="dropdown" id="user-header">
                    <a href="#" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        <img style="width: 36px !important; height: 36px !important;" src="{{watchkeep.currentUser.profilePhoto}}" alt="user image">
                        <span class="username">Hi, {{watchkeep.currentUser.username}}</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a ui-sref="profilepage({ employeeId: watchkeep.currentUserId })">
                                <i class="icon-user"></i>
                                <span>My Profile</span>
                            </a>
                        </li>
                        <!--<li>
                <a href="#"><i class="icon-settings"></i><span>Account Settings</span></a>
              </li>-->
                        <li>
                            <a href="#" ng-click="watchkeep.logout()">
                                <i class="icon-logout"></i>
                                <span>Logout</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- END USER DROPDOWN -->
            </ul>
        </div>
        <!-- header-right -->
    </div>
    <!-- END TOPBAR -->
    <!-- BEGIN PAGE CONTENT -->
    <div class="page-content" ng-if="watchkeep.currentUser.watchkeeping">
        <div class="row">
            <div class="col-lg-4 portlets">
                <div class="panel bg-dark">
                    <div class="panel-header panel-controls">
                        <div class="m-b-20 m-t-10">
                            <div class="btn-group">
                                <button id="table-edit_new" class="btn btn-dark" data-toggle="modal" data-target="#modal-responsive2">
                                    <i class="fa fa-plus"></i> Add New Task Group</button>
                            </div>
                        </div>
                    </div>
                    <div class="panel-content">
                        <!--<p>Here you can manage your jobs easily: add new row, edit or remove existing data. You can export your table in PDF, Excel, CSV or just print it.</p>-->
                        <!--<div class="m-b-20">
                <div class="btn-group">
                  <button id="table-edit_new" class="btn btn-sm btn-dark" data-toggle="modal" data-target="#modal-responsive"><i class="fa fa-plus"></i> Add New Job</button>
                </div>
              </div>-->
                        <table class="table table-hover dataTable" id="table-editable">
                            <thead>
                                <tr>
                                    <th>Task Group</th>
                                    <th class="text-right">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="taskgroup in watchkeep.taskgroups">
                                    <td ui-sref="taskgroupdetails({ taskgroupId: taskgroup._id })">{{taskgroup.name}}</td>
                                    <td class="text-right">
                                        <button class="btn btn-dark f-12" type="submit" ng-click="watchkeep.removeTaskGroup(taskgroup)" style="margin-right: 0 !important;">
                                            <i class="fa fa-trash"></i>Delete</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 portlets">
                <div class="panel bg-dark">
                    <div class="panel-header panel-controls">
                        <div class="m-b-20 m-t-10">
                            <div class="btn-group">
                                <button id="table-edit_new" class="btn btn-dark" data-toggle="modal" data-target="#modal-responsive">
                                    <i class="fa fa-plus"></i> Add New Task</button>
                            </div>
                            <div class="btn-group">
                                <button class="btn btn-dark pull-right" ng-click="watchkeep.gotoWatchkeepLog()">
                                    <i class="fa fa-eye"></i> View Watchkeeping Logs</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label class="control-label">Taskgroup</label>
                                    <select ng-model="watchkeep.searchText" class="form-control">
                                        <option ng-repeat="taskgroup in watchkeep.taskgroups" value="{{taskgroup.name}}">{{taskgroup.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label">Search</label>
                                    <div class="append-icon">
                                        <input type="search" ng-model="watchkeep.searchText" class="form-control" placeholder="Search..." autofocus>
                                        <i class="icon-magnifier"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group" style="margin-top: 25px !important;">
                                    <button class="btn btn-dark col-sm-5" ng-click="watchkeep.filterNow()">Search</button>
                                    <button class="btn btn-dark col-sm-5" ng-click="watchkeep.reset()">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-content">
                        <!--<p>Here you can manage your jobs easily: add new row, edit or remove existing data. You can export your table in PDF, Excel, CSV or just print it.</p>-->
                        <!--<div class="m-b-20">
                      <div class="btn-group">
                        <button id="table-edit_new" class="btn btn-sm btn-dark" data-toggle="modal" data-target="#modal-responsive"><i class="fa fa-plus"></i> Add New Job</button>
                      </div>
                    </div>-->
                        <table class="table table-hover dataTable" id="table-editable">
                            <thead>
                                <tr>
                                    <th>Task</th>
                                    <th>Task Group</th>
                                    <th>Time </th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr dir-paginate="watchkeep in watchkeep.watchkeeps | itemsPerPage: watchkeep.perPage" total-items="watchkeep.watchkeepsCount"
                                    ui-sref="watchkeepdetails({ watchkeepId: watchkeep._id })" ng-click="">
                                    <td>{{watchkeep.task}}</td>
                                    <td>{{watchkeep.taskGroup}}</td>
                                    <td>
                                        <span ng-if="watchkeep.withTime == 'true'">{{watchkeep.time | date : "shortTime"}}</span>
                                        <span ng-if="watchkeep.withTime == 'false'">none</span>
                                    </td>
                                    <td>{{watchkeep.status == "true" ? "active" : "inactive"}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls on-page-change="watchkeep.pageChanged(newPageNumber)"></dir-pagination-controls>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="copyright">
                <p class="pull-left sm-pull-reset">
                    <span>Copyright
                        <span class="copyright">©</span> 2018 </span>
                    <span>Powered by TYS Ltd</span>.
                    <span>All rights reserved. </span>
                </p>
                <p class="pull-right sm-pull-reset">
                    <span>
                        <a href="#" class="m-r-10">Support</a> |
                        <a href="#" class="m-l-10 m-r-10">Terms of use</a> |
                        <a href="#" class="m-l-10">Privacy Policy</a>
                    </span>
                </p>
            </div>
        </div>
    </div>

    <div class="page-content" ng-if="watchkeep.currentUser.watchkeeper">
        <div ng-if="watchkeep.showNotif" class="preview active">
            <div class="alert alert-success media fade in">
                <p>Task Completed!!!
                    <button type="button" class="close" ng-click="watchkeep.notification()" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                </p>
            </div>
        </div>
        <div ng-if="watchkeep.showNotesNotif" class="preview active">
            <div class="alert alert-success media fade in">
                <p>Notes had been submitted!!!
                    <button type="button" class="close" ng-click="watchkeep.notification()" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                </p>
            </div>
        </div>
        <div ng-if="showSwap" class="preview active">
            <div class="alert alert-success media fade in">
                <p>Schedule has been changed!!!
                    <button type="button" class="close" ng-click="watchkeep.notification()" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                </p>
            </div>
        </div>
        <div ng-if="watchkeep.showError" class="preview active">
            <div class="alert alert-danger media fade in">
                <p>No schedule assigned
                    <button type="button" class="close" ng-click="watchkeep.notification()" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                </p>
            </div>
        </div>
        <div class="row" ng-repeat="watchkeeper in watchkeep.watchkeepers" ng-if="(watchkeeper.userID == watchkeep.currentUserId) && (watchkeeper.withTime == 'true')">
            <div class="col-lg-12 portlets" ng-repeat="item in watchkeeper.dates track by $index" ng-if="item.dateTime == watchkeep.floatDate" ng-hide="item.status == false">
                <div class="panel bg-dark">
                    <div class="panel-header header-line bg-dark">
                        <h2>{{watchkeeper.taskGroup}}
                            <strong ng-if="watchkeeper.withTime"> | {{watchkeeper.time | date : "shortTime"}}</strong>
                        </h2>
                    </div>
                    <div class="panel-content bg-dark">
                        <p class="f-20">{{watchkeeper.task}}</p>
                    </div>
                    <div class="panel-footer clearfix" style="background-color: #666 !important; border-bottom: 0px !important;">
                        <div class="pull-right">
                            <button type="button" class="btn btn-primary m-r-10" ng-click="watchkeep.markTaskNotDone(watchkeeper)">Not Done</button>
                            <button type="button" class="btn btn-primary" ng-click="watchkeep.markTask(watchkeeper)">Done</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-repeat="watchkeeper in watchkeep.watchkeepers" ng-if="(watchkeeper.userID == watchkeep.currentUserId) && (watchkeeper.withTime == 'false')">
            <div class="col-lg-12 portlets" ng-repeat="item in watchkeeper.dates track by $index" ng-if="item.dateTime == watchkeep.floatDate" ng-hide="item.status == false">
                <div class="panel bg-dark">
                    <div class="panel-header header-line bg-dark">
                        <h2>{{watchkeeper.taskGroup}} </h2>
                    </div>
                    <div class="panel-content bg-dark">
                        <p class="f-20">{{watchkeeper.task}}</p>
                    </div>
                    <div class="panel-footer clearfix" style="background-color: #666 !important; border-bottom: 0px !important;">
                        <div class="pull-right">
                            <button type="button" class="btn btn-primary m-r-10" ng-click="watchkeep.markTaskNotDone(watchkeeper)">Not Done</button>
                            <button type="button" class="btn btn-primary" ng-click="watchkeep.markTask(watchkeeper)">Done</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 portlets">
                <div class="panel bg-dark">
                    <div class="panel-body bg-dark">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label class="control-label">Notes
                                </label>
                                <div>
                                    <textarea rows="10" class="form-control" ng-model="watchkeep.notes.notes" placeholder="Write description... (minimum 30 characters)"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer clearfix" style="background-color: #666 !important; border-bottom: 0px !important;">
                        <div class="pull-right">
                            <!--<button type="button" class="btn btn-white m-r-10">Cancel</button>-->
                            <button type="button" class="btn btn-primary" ng-click="watchkeep.submitNotes()">Submit</button>
                        </div>
                    </div>


                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 col-sm-offset-9">
                <div class="form-group">
                    <label class="control-label">Swap schedules with:</label>
                    <div>
                        <select ng-model="watchkeep.schedule" name="users" class="form-control" required>
                            <option ng-repeat="profile in watchkeep.profiles" ng-value="profile">{{profile.firstName + ' ' + profile.lastName}}</option>
                        </select>
                    </div>
                </div>
                <div class="pull-right">
                    <!--<button type="button" class="btn btn-white m-r-10">Cancel</button>-->
                    <button type="button" class="btn btn-primary" ng-click="watchkeep.swapSchedule()">Swap</button>
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="copyright">
                <p class="pull-left sm-pull-reset">
                    <span>Copyright
                        <span class="copyright">©</span> 2018 </span>
                    <span>Powered by TYS Ltd</span>.
                    <span>All rights reserved. </span>
                </p>
                <p class="pull-right sm-pull-reset">
                    <span>
                        <a href="#" class="m-r-10">Support</a> |
                        <a href="#" class="m-l-10 m-r-10">Terms of use</a> |
                        <a href="#" class="m-l-10">Privacy Policy</a>
                    </span>
                </p>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-responsive" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                    <h4 class="modal-title">
                        <strong>New</strong> Task</h4>
                </div>
                <div class="modal-body bg-dark">
                    <!--<p>Change screen size to see responsive behaviour.</p>-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label">Taskgroup</label>
                                <select ng-model="watchkeep.watchkeep.taskgroupID" class="form-control" required>
                                    <option ng-repeat="taskgroup in watchkeep.taskgroups" value="{{taskgroup._id}}">{{taskgroup.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-if="watchkeep.watchkeep.taskgroupID">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="field-1" class="control-label">Task</label>
                                <input type="text" ng-model="watchkeep.watchkeep.task" class="form-control" placeholder="Task name" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">With Time?</label>
                                <select ng-model="watchkeep.watchkeep.withTime" class="form-control" required>
                                    <option ng-repeat="option in watchkeep.options" value="{{option.value}}">{{option.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-if="watchkeep.watchkeep.withTime == 'true'">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="field-3" class="control-label">Time</label>
                                <input type="time" ng-model="watchkeep.watchkeep.time" class="form-control input-sm" placeholder="Time" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer bg-dark text-center">
                    <button type="submit" class="btn btn-primary btn-embossed bnt-square" data-dismiss="modal" ng-click="watchkeep.submit()">
                        <i class="fa fa-check"></i> Add</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-responsive2" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icons-office-52"></i>
                    </button>
                    <h4 class="modal-title">
                        <strong>New</strong> Task Group</h4>
                </div>
                <div class="modal-body bg-dark">
                    <!--<p>Change screen size to see responsive behaviour.</p>-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="field-1" class="control-label">Name</label>
                                <input type="text" ng-model="watchkeep.taskgroup.name" class="form-control" placeholder="Item name" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer bg-dark text-center">
                    <button type="submit" class="btn btn-primary btn-embossed bnt-square" data-dismiss="modal" ng-click="watchkeep.submitTaskgroup()">
                        <i class="fa fa-check"></i> Add</button>
                </div>
            </div>
        </div>
    </div>
    <!-- END PAGE CONTENT -->

</div>